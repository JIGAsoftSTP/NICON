<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
    </h:head>
    <h:body>
        <h:form id="accountTableForm" >
            <div class="contentConta">
                <div class="areaButtons">
                    <article>
                        <h:commandButton value="+ Adicionar Nova" class="btNewConta abrir banco" type="button">
                        </h:commandButton>
                        <i class="icon-file-pdf"></i><h:outputLabel class="typeDoc" pt:type="pdf" value="Exportar PDF">
                        </h:outputLabel>
                        <i class="icon-file-excel"></i><h:outputLabel class="typeDoc" pt:type="excel" value="Exportar Exel">
                        </h:outputLabel>
                    </article>
                    <article class="AreaSearch">
                        <h:outputLabel class="labelTrigger">
                           
                        </h:outputLabel>
                        <h:inputText pt:placeholder="Pesquisar por..." class="searchAccount vl-pesqContaBanco">
                          
                        </h:inputText>
                       
                        <i class="icon-search bt-pesqContaBanco"></i>
                    </article>
                </div>
                <p:remoteCommand name="printDocCB" actionListener="#{contaBancoBean.printDocCB()}" />
                <p:remoteCommand name="pesqCB" actionListener="#{contaBancoBean.pesquisaCB()}" />
                <div class="areaModal hide">
                <div class="CloseModalFrame">
                    <i class="icon-arrow-right2 iconRight" title="Fechar"></i>
                </div>              
                    <h3>Conta Banco</h3>
                    <div class="regcb-div">
                        <article>
                            <section>
                                <label>Tipo Conta</label>
                                <h:selectOneMenu class="regcb-tipoconta" value="#{contaBancoBean.contaBanco.idTipoMoeda}">
                                    <f:selectItem itemValue="" itemLabel="Selecione" />
                                    <f:selectItems value="#{contaBancoBean.listTipoConta}" var="lb" itemValue="#{lb.id}" itemLabel="#{lb.value}" />
                                </h:selectOneMenu>
                            </section>
                        </article>
                        <article>
                            <section>
                                <label>Nº Conta</label>
                                <h:inputText class="regcb-numconta" value="#{contaBancoBean.contaBanco.numConta}"></h:inputText>
                            </section>
                        </article>
                        <article>
                            <section>
                                <label>Conta Contabilística</label>
                                <h:selectOneMenu class="regcb-contacontabalistica" value="#{contaBancoBean.contaBanco.idtipoContaContabilistica}">
                                    <f:selectItem itemValue="" itemLabel="Selecione" />
                                    <f:selectItems value="#{contaBancoBean.listContaContaBilistica}" var="lb" itemValue="#{lb.id}" itemLabel="#{lb.value}" />
                                </h:selectOneMenu>
                            </section>
                        </article>
                        <article>
                            <section>
                                <label>Banco</label>
                                <h:selectOneMenu class="regcb-banco" value="#{contaBancoBean.contaBanco.idbanco}">
                                    <f:selectItem itemValue="" itemLabel="Selecione" />
                                    <f:selectItems value="#{contaBancoBean.listBanco}" var="lb" itemValue="#{lb.id}" itemLabel="#{lb.value}" />
                                </h:selectOneMenu>
                            </section>
                        </article>
                        <article>
                            <section>
                                <label>Tipo Moeda</label>
                                <h:selectOneMenu class="regcb-tipomoeda" value="#{contaBancoBean.contaBanco.idTipoMoeda}">
                                    <f:selectItem itemValue="" itemLabel="Selecione" />
                                    <f:selectItems value="#{contaBancoBean.listMoeda}" var="lb" itemValue="#{lb.id}" itemLabel="#{lb.value}" />
                                </h:selectOneMenu>
                            </section>
                        </article>
                        <br></br>
                        <h:commandButton value="Salvar" class="saveButton regcb-button">
                            <p:ajax process="@form" />
                        </h:commandButton>
                        <p:remoteCommand name="regContaBanco" actionListener="#{contaBancoBean.regContaBanco()}" />
                    </div>
             </div>
                <div class="areaTable">
                    <p:dataTable class="tableConta" id="tableCantaBanco" value="#{contaBancoBean.listContaBanco}" var="lscb" rowKey="#{lscb}" selectionMode="single"
                                 scrollable="true" scrollHeight="350" emptyMessage="Nenhum registo encontrado"> 
<!--                                <p:column headerText="Ação" width="100">
                                    <h:outputLabel class="actionTable icon-pencil" title="Editar Conta" >

                                    </h:outputLabel>
                                </p:column>-->
                                <p:column headerText="Número" width="130">
                                    #{lscb.numConta}
                                </p:column>
                                <p:column headerText="Nome" width="130">
                                    #{lscb.nameConta}
                                </p:column>
                                <p:column headerText="Numero Conta Contabilistica" width="250">
                                    #{lscb.numContaContabilistica}
                                </p:column>
                                <p:column headerText="Descrição Conta Contabilistica" width="250">
                                    #{lscb.descContaContabilistica}
                                </p:column>
                    </p:dataTable>
                </div>
            </div>
        </h:form>
        <h:form>
            <div class="processamento modalProcess">
                <h:graphicImage value="/Images/earth.gif" class="imageProcess" />
            </div>
        </h:form>
    </h:body>
    <h:outputScript library="js" name="ContaBanco.js" />
</html>